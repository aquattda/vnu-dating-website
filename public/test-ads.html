<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Ads Display</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/side-ads.css">
    <style>
        body {
            background: #f5f5f5;
        }
        .test-container {
            text-align: center;
            padding: 40px 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin: 40px auto;
            max-width: 800px;
        }
        .debug-info {
            background: #f0f0f0;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: left;
            font-family: monospace;
            font-size: 14px;
        }
        .debug-info h3 {
            margin-top: 0;
            color: #667eea;
        }
        .status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 4px;
            margin-left: 10px;
            font-weight: bold;
        }
        .status.ok {
            background: #10b981;
            color: white;
        }
        .status.error {
            background: #ef4444;
            color: white;
        }
    </style>
</head>
<body class="with-side-ads">
    <!-- Left Side Advertisement -->
    <div class="ad-side ad-left" id="adLeft">
        <img src="images/ad-left.jpg" alt="Advertisement" onerror="handleImageError(this, 'ad-left.jpg')">
        <img src="images/ad-left-2.png" alt="Advertisement" onerror="handleImageError(this, 'ad-left-2.png')">
    </div>

    <!-- Right Side Advertisement -->
    <div class="ad-side ad-right" id="adRight">
        <img src="images/ad-right.png" alt="Advertisement" onerror="handleImageError(this, 'ad-right.png')">
        <img src="images/ad-right-2.png" alt="Advertisement" onerror="handleImageError(this, 'ad-right-2.png')">
    </div>

    <div class="test-container">
        <h1>üéØ TEST BANNER QU·∫¢NG C√ÅO</h1>
        <p>Trang n√†y ƒë·ªÉ ki·ªÉm tra xem banner qu·∫£ng c√°o c√≥ hi·ªÉn th·ªã ƒë√∫ng kh√¥ng</p>

        <div class="debug-info">
            <h3>üìä Th√¥ng tin Debug:</h3>
            <div id="debugOutput"></div>
        </div>

        <button onclick="runTests()" style="padding: 12px 24px; background: #667eea; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; margin-top: 20px;">
            üîÑ Ch·∫°y ki·ªÉm tra
        </button>
    </div>

    <script>
        const imageErrors = [];

        function handleImageError(img, filename) {
            imageErrors.push(filename);
            console.error('Failed to load:', filename);
            img.style.border = '2px solid red';
            img.alt = `‚ùå L·ªói t·∫£i: ${filename}`;
        }

        function runTests() {
            const debugOutput = document.getElementById('debugOutput');
            const adLeft = document.getElementById('adLeft');
            const adRight = document.getElementById('adRight');
            
            let html = '';
            
            // Test 1: Screen size
            const screenWidth = window.innerWidth;
            const screenOk = screenWidth >= 1200;
            html += `<p>1. K√≠ch th∆∞·ªõc m√†n h√¨nh: ${screenWidth}px <span class="status ${screenOk ? 'ok' : 'error'}">${screenOk ? '‚úì OK' : '‚úó Qu√° nh·ªè'}</span></p>`;
            
            // Test 2: CSS loaded
            const adLeftStyles = window.getComputedStyle(adLeft);
            const cssOk = adLeftStyles.position === 'fixed';
            html += `<p>2. CSS loaded: position=${adLeftStyles.position} <span class="status ${cssOk ? 'ok' : 'error'}">${cssOk ? '‚úì OK' : '‚úó L·ªói'}</span></p>`;
            
            // Test 3: Display property
            const displayOk = adLeftStyles.display !== 'none';
            html += `<p>3. Display: ${adLeftStyles.display} <span class="status ${displayOk ? 'ok' : 'error'}">${displayOk ? '‚úì OK' : '‚úó B·ªã ·∫©n'}</span></p>`;
            
            // Test 4: Z-index
            const zIndex = adLeftStyles.zIndex;
            const zIndexOk = zIndex === '100';
            html += `<p>4. Z-index: ${zIndex} <span class="status ${zIndexOk ? 'ok' : 'error'}">${zIndexOk ? '‚úì OK' : '‚ö† Kh√¥ng ƒë√∫ng'}</span></p>`;
            
            // Test 5: Images loaded
            const leftImages = adLeft.querySelectorAll('img');
            const rightImages = adRight.querySelectorAll('img');
            const totalImages = leftImages.length + rightImages.length;
            const loadedImages = Array.from(leftImages).concat(Array.from(rightImages))
                .filter(img => img.complete && img.naturalHeight !== 0).length;
            const imagesOk = loadedImages === totalImages;
            html += `<p>5. Images: ${loadedImages}/${totalImages} loaded <span class="status ${imagesOk ? 'ok' : 'error'}">${imagesOk ? '‚úì OK' : '‚úó Thi·∫øu'}</span></p>`;
            
            // Test 6: Image errors
            if (imageErrors.length > 0) {
                html += `<p>6. Image errors: <span class="status error">‚úó ${imageErrors.join(', ')}</span></p>`;
            } else {
                html += `<p>6. Image errors: <span class="status ok">‚úì Kh√¥ng c√≥ l·ªói</span></p>`;
            }
            
            // Test 7: Body class
            const hasClass = document.body.classList.contains('with-side-ads');
            html += `<p>7. Body class: <span class="status ${hasClass ? 'ok' : 'error'}">${hasClass ? '‚úì with-side-ads' : '‚úó Thi·∫øu'}</span></p>`;
            
            // Test 8: Visible check
            const leftRect = adLeft.getBoundingClientRect();
            const rightRect = adRight.getBoundingClientRect();
            const visibleOk = leftRect.width > 0 && rightRect.width > 0;
            html += `<p>8. Visible: Left=${leftRect.width}px, Right=${rightRect.width}px <span class="status ${visibleOk ? 'ok' : 'error'}">${visibleOk ? '‚úì OK' : '‚úó Kh√¥ng hi·ªÉn th·ªã'}</span></p>`;
            
            // Summary
            const allOk = screenOk && cssOk && displayOk && zIndexOk && imagesOk && imageErrors.length === 0 && hasClass && visibleOk;
            html += `<hr><p style="font-size: 18px; font-weight: bold; color: ${allOk ? '#10b981' : '#ef4444'};">
                ${allOk ? '‚úÖ T·∫§T C·∫¢ ƒê·ªÄU OK!' : '‚ùå C√ì L·ªñI - XEM CHI TI·∫æT TR√äN'}
            </p>`;
            
            debugOutput.innerHTML = html;
        }
        
        // Auto run on load
        window.addEventListener('load', () => {
            setTimeout(runTests, 500);
        });
    </script>
</body>
</html>
